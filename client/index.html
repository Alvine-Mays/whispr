<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whispr - Messages Anonymes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6C63FF',
                        secondary: '#FF6B9D',
                        dark: '#222222'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-primary via-purple-600 to-secondary min-h-screen">
    
    <!-- Header -->
    <nav class="p-4 md:p-6">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-comment-dots text-white text-2xl"></i>
                <h1 class="text-white font-bold text-xl">Whispr</h1>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <main class="flex-1 flex items-center justify-center px-4 py-8">
        <div class="max-w-md w-full">
            
            <!-- Logo -->
            <div class="text-center mb-8">
                <div class="bg-white/10 backdrop-blur-sm rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center">
                    <i class="fas fa-eye-slash text-white text-3xl"></i>
                </div>
                <h2 class="text-white text-3xl font-bold mb-2">Whispr</h2>
                <p class="text-white/80 text-lg">Recevez des messages anonymes</p>
            </div>

            <!-- Main Card -->
            <div class="bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl">
                
                <!-- Welcome Message -->
                <div id="welcomeSection" class="text-center">
                    <h3 class="text-gray-800 font-semibold text-xl mb-2">
                        Créez votre lien anonyme
                    </h3>
                    <p class="text-gray-600 mb-6 text-sm">
                        Partagez votre lien et recevez des messages anonymes de vos amis
                    </p>
                    
                    <button onclick="showCreateForm()" class="w-full bg-primary text-white py-3 px-6 rounded-xl font-medium hover:bg-purple-700 transition-all duration-200 transform hover:scale-105">
                        <i class="fas fa-plus mr-2"></i>
                        Créer mon lien
                    </button>
                </div>

                <!-- Create Form -->
                <div id="createForm" class="hidden">
                    <div class="text-center mb-6">
                        <h3 class="text-gray-800 font-semibold text-xl mb-2">
                            Choisissez votre pseudo
                        </h3>
                        <p class="text-gray-600 text-sm">
                            3-20 caractères, lettres et chiffres uniquement
                        </p>
                    </div>

                    <form id="usernameForm" class="space-y-4">
                        <div>
                            <input 
                                type="text" 
                                id="username" 
                                placeholder="monpseudo"
                                class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"
                                maxlength="20"
                                pattern="[a-zA-Z0-9_]+"
                                required
                            >
                            <div class="text-xs text-gray-500 mt-1" id="charCount">0/20 caractères</div>
                        </div>

                        <div id="errorMessage" class="hidden bg-red-100 border border-red-300 text-red-700 px-4 py-2 rounded-xl text-sm">
                        </div>

                        <button 
                            type="submit" 
                            class="w-full bg-primary text-white py-3 px-6 rounded-xl font-medium hover:bg-purple-700 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
                            id="createButton"
                        >
                            <span class="button-text">
                                <i class="fas fa-rocket mr-2"></i>
                                Créer mon lien
                            </span>
                            <span class="button-loading hidden">
                                <i class="fas fa-spinner fa-spin mr-2"></i>
                                Création...
                            </span>
                        </button>
                    </form>

                    <button onclick="showWelcome()" class="w-full mt-3 text-gray-500 hover:text-gray-700 transition-colors text-sm">
                        <i class="fas fa-arrow-left mr-1"></i>
                        Retour
                    </button>
                </div>

                <!-- Success Section -->
                <div id="successSection" class="hidden">
                    <div class="text-center mb-6">
                        <div class="bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-check text-green-600 text-2xl"></i>
                        </div>
                        <h3 class="text-gray-800 font-semibold text-xl mb-2">
                            Votre lien est prêt !
                        </h3>
                        <p class="text-gray-600 text-sm mb-4">
                            Partagez ce lien pour recevoir des messages anonymes
                        </p>
                    </div>

                    <div class="bg-gray-50 rounded-xl p-4 mb-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600 truncate flex-1" id="generatedLink">
                                <!-- Le lien sera inséré ici -->
                            </span>
                            <button onclick="copyLink()" class="ml-2 bg-primary text-white px-3 py-2 rounded-lg text-sm hover:bg-purple-700 transition-colors">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Boutons de partage -->
                    <div class="grid grid-cols-3 gap-2 mb-4">
                        <button onclick="shareWhatsApp()" class="bg-green-500 text-white py-2 px-3 rounded-lg text-sm hover:bg-green-600 transition-colors">
                            <i class="fab fa-whatsapp mr-1"></i>
                            WhatsApp
                        </button>
                        <button onclick="shareInstagram()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 px-3 rounded-lg text-sm hover:opacity-90 transition-opacity">
                            <i class="fab fa-instagram mr-1"></i>
                            Instagram
                        </button>
                        <button onclick="shareSnapchat()" class="bg-yellow-400 text-black py-2 px-3 rounded-lg text-sm hover:bg-yellow-500 transition-colors">
                            <i class="fab fa-snapchat-ghost mr-1"></i>
                            Snap
                        </button>
                    </div>

                    <a href="dashboard.html" id="dashboardLink" class="block w-full bg-secondary text-white py-3 px-6 rounded-xl font-medium hover:bg-pink-600 transition-all duration-200 transform hover:scale-105 text-center">
                        <i class="fas fa-tachometer-alt mr-2"></i>
                        Voir mes messages
                    </a>
                </div>

            </div>

            <!-- Footer -->
            <div class="text-center mt-8 text-white/60 text-sm">
                <p>Les messages sont supprimés automatiquement après 48h</p>
                <p class="mt-1">
                    <i class="fas fa-shield-alt mr-1"></i>
                    100% anonyme et sécurisé
                </p>
            </div>

        </div>
    </main>

    <!-- Confetti Animation -->
    <canvas id="confetti" class="fixed inset-0 pointer-events-none z-50"></canvas>

    <script src="js/main.js"></script>
</body>
</html>